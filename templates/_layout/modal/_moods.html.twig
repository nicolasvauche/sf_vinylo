{% set moods = moods ?? [
    {id:'calme', label:'Calme', icon: 'fa7-solid:peace', active: false},
    {id:'concentration', label:'Concentration', icon: 'fa7-solid:bullseye', active: false},
    {id:'doux', label:'Doux', icon: 'fa7-solid:heart', active: true},
    {id:'energie', label:'Énergie', icon: 'fa7-solid:fist-raised', active: false},
    {id:'festif', label:'Festif', icon: 'fa7-solid:glass-cheers', active: false},
    {id:'melancolique', label:'Mélancolique', icon: 'fa7-solid:face-frown', active: false},
    {id:'nostalgique', label:'Nostalgique', icon: 'file-icons:bazel-old', active: false},
    {id:'decouverte', label:'Découverte', icon: 'weui:discover-filled', active: false}
] %}
{% set initial = (initial is defined and initial is not same as(''))
    ? initial
    : (moods|filter(m => m.active)|first).id ?? '' %}

<turbo-frame id="app-modal-frame">
    <ul class="picker-list"
        data-controller="modal--mood-picker"
        data-initial="{{ initial | default('') }}">
        {% for m in moods %}
            <li>
                <button
                    type="button"
                    class="picker-item"
                    data-id="{{ m.id }}"
                    data-action="click->modal--mood-picker#toggle"
                    aria-pressed="false"
                >
                    {{ ux_icon(m.icon, {'class': 'app-icon'}) }}
                    {{ m.label }}
                </button>
            </li>
        {% endfor %}
    </ul>
</turbo-frame>
