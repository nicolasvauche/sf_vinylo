{% extends '_layout/vault/_index.html.twig' %}

{% block title %}Détails du disque{% endblock %}

{% block main %}
    <main
        class="app-main app-disks"
        data-controller="disk--swipe"
        data-disk--swipe-from-value="vault">
        <section
            class="app-section app-disk"
            data-id="1"
            data-from="vault"
            data-title="Supprimer un disque"
            data-confirm-url="{{ path('modal_confirm', {
                message: 'Confirmez-vous la suppression du disque <strong>' ~ edition.record.title ~ '</strong>&nbsp;?<br>Cette action est définitive…'
            }) }}"
            data-action-url="{{ path('app_vault_edition_delete') }}"
            data-disk--swipe-target="card">
            <img src="{{ asset(edition.coverFile) }}" alt="{{ edition.record.title }}"/>

            <span class="app-feedback top">
                {{ ux_icon('el:arrow-up', {'class': 'app-icon'}) }}
                Supprimer
            </span>
            <span class="app-feedback left">
                {{ ux_icon('el:arrow-up', {'class': 'app-icon'}) }}
                Retour
            </span>
            <span class="app-feedback right">
                {{ ux_icon('el:arrow-up', {'class': 'app-icon'}) }}
                Modifier
            </span>

            <div class="infos">
                <header>
                    <div class="details">
                        <h2>
                            {{ edition.record.title }}
                            <small>
                                <em>
                                    {{ edition.record.yearOriginal }}&nbsp;•&nbsp;{{ edition.format.label }}
                                </em>
                            </small>
                        </h2>
                        <h3>
                            <a href="#">{{ edition.record.artist.name }}</a>
                        </h3>
                    </div>
                    <button
                        type="button"
                        class="playlist"
                        data-controller="modal--modal-opener"
                        data-modal--modal-opener-modal-value="#app-modal"
                        data-modal--modal-opener-variant-value="picker"
                        data-modal--modal-opener-title-value="Ajoutez à une playlist"
                        data-modal--modal-opener-body-url-value="{{ path('modal_playlists', { initial: currentPlaylistId|default('') }) }}"
                        data-modal--modal-opener-footer-html-value='
    <button type="button" data-action="modal--modal#close">Annuler</button>
    <button type="button" data-primary disabled data-action="modal--mood-picker#confirm" class="bg-success">Valider</button>
  '
                        data-action="click->modal--modal-opener#open"
                    >
                        {{ ux_icon('material-symbols:playlist-add-rounded', {'class': 'app-icon'}) }}
                    </button>
                </header>

                <div class="notes">
                    <p><strong>Flow</strong> proposera ce disque si :</p>
                    <ul>
                        <li>
                            {{ ux_icon('fa6-solid:hand-point-right', {'class': 'app-icon'}) }}
                            Votre humeur est "calme" ou "doux"
                        </li>
                        <li>
                            {{ ux_icon('fa6-solid:hand-point-right', {'class': 'app-icon'}) }}
                            Vous appréciez souvent revenir à des classiques
                        </li>
                        <li>
                            {{ ux_icon('fa6-solid:hand-point-right', {'class': 'app-icon'}) }}
                            La saison demande des sonorités chaleureuses
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </main>
{% endblock %}
